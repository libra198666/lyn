port: 7890           # HTTP ä»£ç†ç«¯å£
socks-port: 7891     # Socks ç«¯å£
redir-port: 7892     # Redir ç«¯å£
mixed-port: 7893     # æ··åˆç«¯å£
allow-lan: true      # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*"    # åœ°å€ç»‘å®š
mode: rule           # è§„åˆ™æ¨¡å¼
log-level: info      # æ—¥å¿—çº§åˆ«
ipv6: false          # IPV6å¼€å…³
external-controller: 9090

dns:
  enable: true       # ä¸ä½¿ç”¨ç³»ç»Ÿ DNS
  ipv6: false        # å…³é—­ IPV6
  listen: 0.0.0.0:53 # dns ç›‘å¬
  nameserver:        # é»˜è®¤ DNS æœåŠ¡
    - 223.5.5.5
    - 119.29.29.29
  fallback:          # å›½å¤– DNS æœåŠ¡å™¨
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
    - https://dns.alidns.com/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
#========= å»ºç«‹é”šç‚¹ =========#

# ç­–ç•¥ç»„å¼•ç”¨
pr:   &a3 {type: select,   proxies: [ğŸ”° èŠ‚ç‚¹A, ğŸ”° èŠ‚ç‚¹B, ğŸ”° èŠ‚ç‚¹C, â˜ï¸ WARP, DIRECT] }
pr1:   &a8 {type: select,   proxies: [DIRECT, ğŸ”° èŠ‚ç‚¹A, ğŸ”° èŠ‚ç‚¹B, ğŸ”° èŠ‚ç‚¹C, â˜ï¸ WARP] }
pr2:   &a9 {type: select, proxies: [ğŸš€ Misakaf, ğŸš€ Pilor, ğŸš€ 8x, ğŸš€ å¤‡ç”¨, ğŸš€ å¤‡ç”¨2, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, â™»ï¸ æ‰‹åŠ¨åˆ‡æ¢] }
pr3:   &a10 {type: select,   proxies: [ğŸš€ 0.1x, ğŸ”° èŠ‚ç‚¹B, ğŸ”° èŠ‚ç‚¹C, â˜ï¸ WARP] }
pr5:   &a12 {type: select,   proxies: [DIRECT, ğŸš€ 0.1x, ğŸ”° èŠ‚ç‚¹A, ğŸ”° èŠ‚ç‚¹B, ğŸ”° èŠ‚ç‚¹C, â˜ï¸ WARP] }
p:    &a1 {type: http,     interval: 86400,  health-check: {enable: true, url: http://www.gstatic.com/generate_204, interval: 300} }
auto:  &a4 {type: url-test, lazy: true,  url: http://www.gstatic.com/generate_204, interval: 400, tolerance: 100}
use:   &a2 {type: select,   use: [Subscribe] }
c:    &a6 {type: http,     behavior: classical, interval: 86400}
d:    &a5 {type: http,     behavior: domain,    interval: 86400}
i:    &a7 {type: http,     behavior: ipcidr,    interval: 86400}



proxy-providers:
  âœˆï¸ pilor:
    <<: *a1
    url: https://www.pilor.net/link/ClyuPkZtIlDB4t55?clash=1
    path: ./pilor.yaml

  âœˆï¸ misakaf:
    <<: *a1
    url: http://api.aca.best/api/v1/client/subscribe?token=bb8236be4df689fc87aca76015086fce
    path: ./misakaf.yaml


  âœˆï¸ å¤‡ç”¨:
    <<: *a1
    url: https://subscribe.hio.best/api/v1/client/subscribe?token=c40a6063f39cf206a6be61d4728ea633
    path: ./å¤‡ç”¨.yaml
    filter: ^(?!.*(ipv6|ç½‘ç«™))
   
  âœˆï¸ å¤‡ç”¨2:
    <<: *a1
    url: https://pqjc.site/api/v1/client/subscribe?token=1ad98450775e998f73531727e3bd52ab
    path: ./å¤‡ç”¨2.yaml

      
proxies:
  - {name: â˜ï¸ WARP, server: 162.159.195.115, port: 3581, type: wireguard, ip: 172.16.0.2, ipv6: 2606:4700:110:8e06:2744:febd:9374:8455, private-key: wM3NaA4PwjgTChPwulTZbaSHUI26Lr0jHKE9JUFltFg=, public-key: bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, dns: [1.1.1.1], mtu: 1280, udp: true, remote-dns-resolve: true, reserved: [51,147,4]}
  - {name: â˜ï¸ WARP1, server: 162.159.195.115, port: 3581, type: wireguard, ip: 172.16.0.2, ipv6: 2606:4700:110:8e06:2744:febd:9374:8455, private-key: wM3NaA4PwjgTChPwulTZbaSHUI26Lr0jHKE9JUFltFg=, public-key: bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, dns: [1.1.1.1], mtu: 1280, udp: true, remote-dns-resolve: true, reserved: [51,147,4], dialer-proxy: â™»ï¸ æ‰‹åŠ¨åˆ‡æ¢}
  - {name: â˜ï¸ B, server: 162.159.195.115, port: 3581, type: wireguard, ip: 172.16.0.2, ipv6: 2606:4700:110:8828:48ca:8320:9063:bd1d, private-key: 0FyKG+IPGiGVkhk4Sc0t3pZIWzIzRDJR2A0Mkc/q2Go=, public-key: bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, dns: [1.1.1.1], mtu: 1280, udp: true, remote-dns-resolve: true}
proxy-groups:
  #èŠ‚ç‚¹åˆ†ç»„

  - {name: ğŸš€ Pilor, <<: *a4, use: [âœˆï¸ pilor]}
  - {name: ğŸš€ Misakaf, <<: *a4, use: [âœˆï¸ misakaf], filter:  ^(?!.*((?i)8x|å‰©ä½™|è·ç¦»|å¥—é¤|Emby))}
  - {name: ğŸš€ 0.1x, type: select, use: [âœˆï¸ misakaf], filter: "0.1x"}
  - {name: ğŸš€ 8x, <<: *a4, use: [âœˆï¸ misakaf], filter: "IPLC"}
  - {name: ğŸš€ å¤‡ç”¨, <<: *a4, use: [âœˆï¸ å¤‡ç”¨]}  
  - {name: ğŸš€ å¤‡ç”¨2, <<: *a4, use: [âœˆï¸ å¤‡ç”¨2], filter:  ^(?!.*(å‰©ä½™|è·ç¦»|å¥—é¤))} 
 

  #åˆ†æµåˆ†ç»„

  - {name: ğŸ”° èŠ‚ç‚¹A, <<: *a9} 
  - {name: ğŸ”° èŠ‚ç‚¹B, <<: *a9} 
  - {name: ğŸ”° èŠ‚ç‚¹C, <<: *a9} 
  - {name: ğŸ“² ç”µæŠ¥ä¿¡æ¯, type: select, use: [âœˆï¸ misakaf, âœˆï¸ pilor], filter: ^(?!.*8x).*(æ–°|ç‹®|Sing)}   
  - {name: ğŸ¥ ç›´è¿, <<: *a12}
  - {name: ğŸ¥ CF, <<: *a12}
  - {name: ğŸ¥ ä»£ç†, <<: *a10}
  - {name: ğŸ¥ ä»£ç†2, <<: *a10}   
  - {name: ğŸŒ å›½å†…åª’ä½“, <<: *a8}
  - {name: ğŸ¯ å…¨çƒç›´è¿, <<: *a8}
  - {name: â“‚ï¸ å¾®è½¯æœåŠ¡, <<: *a8}
  - {name: Spotify, type: select,   proxies: [ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, DIRECT]  }
  - {name: ğŸŒ å›½å¤–åª’ä½“, <<: *a3}
  - {name: ğŸ¥ NETFLIX, <<: *a3}
  - {name: ğŸ è‹¹æœæœåŠ¡, <<: *a8}
  - {name: YouTube, type: select,   proxies: [â˜ï¸ WARP, â˜ï¸ WARP1, ğŸ”° èŠ‚ç‚¹A, ğŸ”° èŠ‚ç‚¹B, ğŸ”° èŠ‚ç‚¹C] }


  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, <<: *a4, use: [âœˆï¸ pilor, âœˆï¸ misakaf, âœˆï¸ å¤‡ç”¨], filter: ^(?!.*((?i)8x|0.1x|è·ç¦»|å‰©ä½™|å¥—é¤))}
  - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, <<: *a4, use: [âœˆï¸ pilor, âœˆï¸ misakaf], filter: "^(?!.*((?i)8x|0.1x))(?=.*(æ–°|å¡|SG|Singapore))"}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *a4, use: [âœˆï¸ pilor, âœˆï¸ misakaf], filter: "^(?!.*((?i)8x|0.1x))(?=.*(æ¸¯|HK|Hong))" }
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<: *a4, use: [âœˆï¸ pilor, âœˆï¸ misakaf], filter: "^(?!.*((?i)8x|0.1x))(?=.*(æ—¥|ä¸œäº¬|JP|Japan))" }
  - {name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, <<: *a4, use: [âœˆï¸ pilor, âœˆï¸ misakaf], filter: "^(?!.*((?i)8x|0.1x))(?=.*(ç¾|US|States|American))" }
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, <<: *a4, use: [âœˆï¸ pilor, âœˆï¸ misakaf], filter: "^(?!.*((?i)8x|0.1x))(?=.*(å°|æ¹¾|TW|Taiwan))"  }
  - {name: â™»ï¸ æ‰‹åŠ¨åˆ‡æ¢, type: select, proxies: [â˜ï¸ WARP], use: [âœˆï¸ pilor, âœˆï¸ misakaf, âœˆï¸ å¤‡ç”¨], filter: ^(?!.*æ„Ÿè°¢|å‰©ä½™|è·ç¦»|å¥—é¤)}

  - {name: ğŸ›‘ å…¨çƒæ‹¦æˆª, type: select, proxies: [REJECT, PASS]}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, <<: *a3}
        

 

rule-providers:
# å†…å®¹ï¼šå¯ä»¥è‡ªè¡Œæ·»åŠ å…¶å®ƒè‡ªå·±æƒ³è¦åœ¨çº¿è§„åˆ™åˆ—è¡¨
  Advertising:   {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.yaml,   path: ./Advertising.yaml}
  Advertising_Domain:   {<<: *a5, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Domain.yaml,   path: ./Advertising_Domain.yaml     }
  Netflix:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml,   path: ./Netflix.yaml}
  Disney:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml,   path: ./Disney.yaml}
  YouTube:   {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml,   path: ./YouTube.yaml}
  Google:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml,   path: ./Google.yaml}
  BiliBili:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml,   path: ./BiliBili.yaml}
  Microsoft:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml,   path: ./Microsoft.yaml}
  Apple:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml,   path: ./Apple.yaml}
  Spotify:   {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml,   path: ./Spotify.yaml}
  Telegram:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml,   path: ./Telegram.yaml}
  GlobalMedia:    {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml,   path: ./GlobalMedia.yaml}
  direct:    {<<: *a6, url: https://raw.githubusercontent.com/libra198666/iptv/main/github-emby-clash-direct.yaml,   path: ./direct.yaml}
  cf:    {<<: *a6, url: https://raw.githubusercontent.com/libra198666/iptv/main/github-emby-clash-cf.yaml,   path: ./cf.yaml}
  proxy:   {<<: *a6, url: https://raw.githubusercontent.com/libra198666/iptv/main/github-emby-clash-proxy.yaml,   path: ./proxy.yaml}
  proxy2:   {<<: *a6, url: https://raw.githubusercontent.com/libra198666/iptv/main/github-emby-clash-proxy2.yaml,   path: ./proxy2.yaml}
  China:   {<<: *a6, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml,  path: ./China.yaml}
  Global_Domain:  {<<: *a5, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Domain.yaml,  path: ./Global_Domain.yaml}
  SYD:   {<<: *a6, url: https://raw.githubusercontent.com/qoli/SyncnextClash/main/Unbreak-classical.yaml,  path: ./SYD.yaml}
  SYP:   {<<: *a6, url: https://raw.githubusercontent.com/qoli/SyncnextClash/main/proxy-classical.yaml,  path: ./SYP.yaml}
  

rules:
# å†…å®¹ï¼šå¯ä»¥è‡ªè¡Œæ·»åŠ å…¶å®ƒè‡ªå·±æƒ³è¦çš„è§„åˆ™
# ACL4SSR Online
 - RULE-SET,direct,ğŸ¥ ç›´è¿
 - RULE-SET,cf,ğŸ¥ CF
 - RULE-SET,proxy,ğŸ¥ ä»£ç†
 - RULE-SET,proxy2,ğŸ¥ ä»£ç†2
 - RULE-SET,Advertising,ğŸ›‘ å…¨çƒæ‹¦æˆª
 - RULE-SET,Advertising_Domain,ğŸ›‘ å…¨çƒæ‹¦æˆª
 - RULE-SET,SYD,DIRECT
 - RULE-SET,SYP,ğŸ”° èŠ‚ç‚¹A
 - RULE-SET,proxy2,ğŸ”° èŠ‚ç‚¹A
 - RULE-SET,Netflix,ğŸ¥ NETFLIX
 - RULE-SET,Disney,ğŸŒ å›½å¤–åª’ä½“
 - RULE-SET,YouTube,YouTube
 - RULE-SET,Google,ğŸ”° èŠ‚ç‚¹A
 - RULE-SET,BiliBili,ğŸ¯ å…¨çƒç›´è¿
 - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
 - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
 - RULE-SET,Spotify,Spotify
 - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥ä¿¡æ¯
 - RULE-SET,GlobalMedia,ğŸŒ å›½å¤–åª’ä½“
 - RULE-SET,China,ğŸ¯ å…¨çƒç›´è¿
 - RULE-SET,Global_Domain,ğŸŒ å›½å¤–åª’ä½“
 - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
 - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
